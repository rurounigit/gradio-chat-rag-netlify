<!DOCTYPE html>
<html lang="en"> <!-- Added DOCTYPE -->
  <head>
    <meta charset="UTF-8" /> <!-- Good practice -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <!-- Good practice -->
    <title>Minimal ChatInterface Test (.launch())</title>

    <!-- Load Gradio-lite JS and CSS from CDN (latest) -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@gradio/theme/dist/theme.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@gradio/lite/dist/lite.css"
    />
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/@gradio/lite/dist/lite.js"
    ></script>

    <style>
      body { margin: 0; padding: 0; background-color: #f0f0f0; }
      gradio-lite { min-height: 100vh; }
    </style>
  </head>
  <body>
    <gradio-lite>
      <!--
        Python code based on the working minimal example pattern.
        Using ChatInterface but with a *synchronous, non-networked* function.
        Ensure indentation is PERFECTLY preserved.
      -->
      <script type="pyodide">
import gradio as gr
# No asyncio or pyodide_http imported yet

print("Minimal ChatInterface Test: Starting Python code.")

# Define a simple SYNCHRONOUS function that matches ChatInterface signature
def simple_chat_placeholder(message, history):
    print(f"Simple Chat Placeholder: Received message='{message}', history={history}")
    # Just return a fixed string - NO network call
    return f"Okay, I received '{message}'. Backend call is disabled in this test."

# Define the ChatInterface using the placeholder function
# Assign to a variable for clarity, then call .launch()
chat_ui = gr.ChatInterface(
    fn=simple_chat_placeholder,
    title="Minimal ChatInterface Test",
    description="Testing ONLY if ChatInterface component loads with .launch()",
    chatbot=gr.Chatbot(height=500)
)

print("Minimal ChatInterface Test: Interface defined. Calling .launch()...")

# Use the .launch() method that worked for the basic Interface
chat_ui.launch()

print("Minimal ChatInterface Test: .launch() called. UI should appear if successful.")

# No explicit asyncio.sleep(999999) - let's see if .launch() handles it for ChatInterface

      </script>
    </gradio-lite>
  </body>
</html>